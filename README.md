# CrapCoin Quickstart
Clone down crapcoin:
`git clone https://github.com/MichaelrMentele/crapcoin.git && cd crapcoin`

Spin up a network of nodes:
`python watercooler new_group --size 5`

That's it! This will start up 5 nodes in the network as well as a special `sauron` node that aggregrates requests in the network and also acts as a 'tracker' node for new nodes to bootstrap themselves into the network.

Now you can go to ports 8000..8005 and create a transaction from any of these nodes. The node will mine a new block and propogate it through the network via gossip.

You can visit `8999` (default for Sauron) to view the requests made in the network.

You can continue to add new nodes, they will be assigned a random node to initially pair with.

`python watercooler add_nodes 1`

This is what creating a new group does behind the scenes--adds a new node to the network one at a time (Sauron watches the network traffic, if it gets a request from a new node it will automatically add it).

## Docker
`watercooler` is a simple python wrapper for commands like the following: where the port is generated by the wrapper: `sudo docker-compose run -de PORT=8001 web /app/start.sh`

## What is Sauron?
Sauron is the 'all seeing eye' that knows all and sees all. In this case, he doesn't really. If you want to track data in a distributed network you need a way to track that network's activities. The easiest way to do this is publishing to a aggregator object.

That is Sauron. Sauron is a bit of a misnomer, since the app is completely _blind_ and relies and nodes to report to him.

### Usage
Sauron provides a request/response aggregator for visualizing the communication of your distributed system.

Sauron has two parts:
1. Sauron (the aggregator/visualizer)
2. AllSeeingEye that reports to Sauron

You can start up Sauron just like any other Django project with `python manage.py runserver`.

For reporting, Sauron provides a few easy ways to hook into Django projects. If you're project is something else you will need to report to Sauron yourself.

**Vanilla Reporting**
```python
from fullnode import AllSeeingEye

the_eye = AllSeeingEye(config={'url': 'http://some_url'})

# in the method we want to publish...
def some_route():
  # ...
  the_eye.see(some_json)
  return some_json
```

**Wrap Views with Decorator**
```python
from fullnode import all_seeing_eye

@all_seeing_eye
def some_route():
  #...
  return some_json
```

**Django Middleware**
```python
# with package/app installed...
# settings.py
MIDDLEWARE = [
  # ...
  'sauron.AllSeeingEye'
]
```
